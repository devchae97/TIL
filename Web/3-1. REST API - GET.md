# REST API - GET

<br/>

### Project 생성

https://start.spring.io/

Project : Gradle

Spring Boot : 2.7.x

Artifact : rest-api

Packaging & Java : jar, Java 11

Dependencies : Lombok, Spring Web

<br/>

### Controller

Annotation으로 각 클래스의 역할 부여 가능

- @RestController : RestAPI를 처리하는 컨트롤러다.
- @RequestMapping ("/api") : 어떠한("/api") 주소를 받겠다.
- @GetMapping (path = "/hello") : GetMethod를 사용하겠다 / (/api 주소 중에서도 /hello 주소를 처리하겠다)

:bulb: 클라이언트가 서버에 특정 요청을 보내기 위해서 진입점이 어떠한 주소를 가지는지 작성

```java
package com.example.restapi.controller;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping("/api")
public class RestApiController {

    @GetMapping(path = "/hello")
    public String hello(){
        // https://localhost:8080/api/hello
        return "Hello Spring Boot";
    }
}
```

<br/>

- https://localhost:8080/api/hello 에 접속해서 검사 > Network

Request URL : https://localhost:8080/api/hello

Request Method : GET

Status Code : 200 (정상)

Response Header : text/html; charset=UTF-8

<br/>

```java
@GetMapping(path = "/hello")
public String hello(){
    var html = "<html> <body> <h1> Hello Spring Boot </h1> </body> </html>";

    return html;
}
```

:bulb: 클라이언트는 서버에 특정 데이터를 요청, 그리고 서버가 내려주는 응답은 결국 문자열. 문자열을 가지고 예쁘게 꾸며주는건 브라우저

데이터를 전달하는 것은 문자열로 전달 (html/json/파일형태), 서버가 제공해주는건 문자 (0 or 1 bit 단위 데이터)

서버에서 어떠한 문자의 데이터를 만들어내느냐가 중요

통신의 기초적 개념 : 문자를 전달하는 것

<br/>

- GET : Path Variable

주소 내 정보를 전달하는 방법

https://foo.bar/user-id/**100**/card-id/**200**

100과 200은 유동적으로 변할 수 있다.

:bulb: 단점 : 주소가 노출되기 때문에 얼마든지 주소의 값을 변환시킬 수 있기에 보안에 대비가 필요

서버에 특정 값 요청 시 서버는 해당 값을 echo로 내려주는 기능

```java
@GetMapping(path = "/echo/{message}")
public String echo(@PathVariable String message){
    System.out.println("echo message : " + message);
    return message;
}
```

https://localhost:8080/api/echo/hello 에 접속 (PathVariable을 받기 위해 중괄호를 넣기)

특정한 PathVariable이 들어오게 되면, 문자로 파싱, PathVariable 어노테이션이 있는 곳에 자동으로 값이 매칭

```java
@GetMapping(path = "/echo/{message}")
public String echo(@PathVariable(name = "message") String msg){
    System.out.println("echo message : " + msg);
    return msg;
}

// String message의 변수명을 바꾸고 싶을땐, @PathVariable(name = "message") 형태로 지정시 이름이 달라도 정상적으로 매칭
```









