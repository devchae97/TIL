# 9-4. Spring Boot Web 활용 - Spring AOP Pointcut 문법

포인트컷 지시자(PointCut Designators)

| PCD         | 의미                                                 |
| ----------- | ---------------------------------------------------- |
| execution   | 반환타입, 타입, 메서드, 파라미터 기준으로 지정       |
| within      | 특정 경로의 타입을 기준으로 지정                     |
| this        | 특정 타입의 객체를 기준으로 지정                     |
| target      | 특정 타입의 객체를 기준으로 지정                     |
| args        | 특정 타입의 파라미터를 가지는 메서드를 기준으로 지정 |
| @target     | 특정 어노테이션을 가지는 객체를 기준으로 지정        |
| @args       | 특정 어노테이션의 파라미터를 가지는 메서드를 기준    |
| @within     | 특정 클래스의 경로의 어노테이션을 기준               |
| @annotation | 특성 메서드의 어노테이션을 기준                      |
| bean        | 스프링 빈을 기준으로 지정                            |

<br/>

- execution
  - "execution(접근제한자-생략가능/리턴타입/패키지지정/클래스지정/메서드지정/매개변수지정)"
  - 가장 많이 사용되며, 각각의 패턴은 * 으로 표현이 가능하며, ..은 0개 이상을 의미

| 접근제한자 | 접근제한자를 지정 (생략가능) | example           |
| ---------- | ---------------------------- | ----------------- |
| public     | public 제한자 선택           | execution(public  |
| private    | private 제한자 선택          | execution(private |
| 생략       | 생략                         | execution(* set*  |

| 리턴타입 | 리턴타입                      | example                |
| -------- | ----------------------------- | ---------------------- |
| *        | 모든 리턴타입                 | execution(public *     |
| void     | 리턴타입이 void인 메서드      | execution(public void  |
| !void    | 리턴타입이 void가 아닌 메서드 | execution(public !void |

| 패키지지정             | 패키지경로                                 | example                                   |
| ---------------------- | ------------------------------------------ | ----------------------------------------- |
| com.example.controller | 패키지의 경로                              | execution(public * com.example.controller |
| com.example.*          | example 패키지 내의 모든 조인포인트        | execution(public * com.example.*          |
| com.example..          | example 패키지로 시작하는 모든 포인트      | execution(public * com.example..          |
| com.example..impl      | example 해키지 하위의 impl로 끝나는 패키지 | execution(public * com.example..impl      |

| 클래스지정 | 클래스                        | example                                        |
| ---------- | ----------------------------- | ---------------------------------------------- |
| Foo        | Foo 클래스 지정               | execution(public * com.example.service.Foo     |
| *Sample    | 이름이 Sample로 끝나는 클래스 | execution(public * com.example.service.*Sample |

| 메서드지정 | 메서드                       | example                     |
| ---------- | ---------------------------- | --------------------------- |
| set*(..)   | set으로 시작하는 모든 메서드 | execution(* set*(..))       |
| *(..)      | 모든 메서드                  | execution(public * *(..))   |
| foo(..)    | foo 이름의 메서드를 지정     | execution(public * foo(..)) |

| 매개변수지정               | 매개변수                                                     | example                                     |
| -------------------------- | ------------------------------------------------------------ | ------------------------------------------- |
| (..)                       | set으로 시작하는 모든 메서드 (매개변수 포함)                 | execution(* set*(..))                       |
| (*)                        | set으로 시작하는 메서드 중 매개변수가 1개                    | execution(* set*(\*))                       |
| (com.example.dto.userDto)  | userDto를 매개변수로 가지는 메서드                           | execution(* set*(com.example.dto.userDto))  |
| (!com.example.dto.userDto) | userDto를 매개변수로 가지지 않는 메서드                      | execution(* set*(!com.example.dto.userDto)) |
| (String, ..)               | String type의 첫번째 매개변수를 가지고 매개변수가 N개 이상인 메서드 | execution(* set*(String, ..))               |
| (String, *)                | String type의 첫번째 매개변수를 가지고 매개변수가 2개인 메서드 | execution(* set*(String, *))                |

<br/>